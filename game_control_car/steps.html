<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>NXT Car with Game Controller</title>
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<script language="JavaScript">
<!--
function FP_swapImg() {//v1.0
 var doc=document,args=arguments,elm,n; doc.$imgSwaps=new Array(); for(n=2; n<args.length;
 n+=2) { elm=FP_getObjectByID(args[n]); if(elm) { doc.$imgSwaps[doc.$imgSwaps.length]=elm;
 elm.$src=elm.src; elm.src=args[n+1]; } }
}

function FP_preloadImgs() {//v1.0
 var d=document,a=arguments; if(!d.FP_imgs) d.FP_imgs=new Array();
 for(var i=0; i<a.length; i++) { d.FP_imgs[i]=new Image; d.FP_imgs[i].src=a[i]; }
}

function FP_getObjectByID(id,o) {//v1.0
 var c,el,els,f,m,n; if(!o)o=document; if(o.getElementById) el=o.getElementById(id);
 else if(o.layers) c=o.layers; else if(o.all) el=o.all[id]; if(el) return el;
 if(o.id==id || o.name==id) return o; if(o.childNodes) c=o.childNodes; if(c)
 for(n=0; n<c.length; n++) { el=FP_getObjectByID(id,c[n]); if(el) return el; }
 f=o.forms; if(f) for(n=0; n<f.length; n++) { els=f[n].elements;
 for(m=0; m<els.length; m++){ el=FP_getObjectByID(id,els[n]); if(el) return el; } }
 return null;
}
// -->
</script>
</head>

<body style="font-family: Verdana; font-size: 10pt" onload="FP_preloadImgs(/*url*/'../images/buttons/instructions/buttonC.jpg', /*url*/'../images/buttons/instructions/buttonB.jpg')">

<table border="0" width="740">
	<tr>
		<td><a href="../index.html">
<img border="0" src="../images/BytesandBotsBanner.png" width="296" height="106" alt="nxtprograms.com"></td>
		<td>
		<p align="right"><font size="2" face="Verdana">Fun 
		Projects for 
				your </font><font size="2"><font face="Arial Rounded MT Bold">LEGO</font><sup><font face="Arial Rounded MT Bold">�</font></sup><font face="Arial Rounded MT Bold"> 
				MINDSTORMS</font><sup><font face="Arial Rounded MT Bold">�</font></sup></font><font size="2" face="Arial Rounded MT Bold"> 
				NXT!</font></td>
	</tr>
</table>
<table border="0" width="742" height="26" cellpadding="4">
	<tr>
		<td bgcolor="#a3b1c3">
		<p align="left" style="margin-bottom: 0"><font size="2">
		<a href="../index.html"><font color="#000000">Home</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="../projects.html"><font color="#000000">Projects</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="../help.html"><font color="#000000">Help</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="contact.html"><font color="#000000">Contacts</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		</font><a href="../../ReadMe.html"><font size="2" color="#000000">Read Me</font></a></td>
	</tr>
</table>
<table border="0" width="742" cellpadding="6">
	<tr>
		<td><font face="Arial Rounded MT Bold" size="6">Car with Game Controller</font></td>
		<td width="150" align="right">
		<table border="0">
			<tr>
				<td align="right" width="70"><font face="Verdana" size="2">
				<a href="steps.html">Building</a>:</font></td>
				<td height="23" align="right">
				<img border="0" src="../images/BuildExpert.gif" width="53" height="16" alt="Expert"></td>
			</tr>
			<tr>
				<td align="right" width="70"><font face="Verdana" size="2">
				<a href="#Program">Program</a>: </font>
				</td>
				<td height="23" align="right">
				<img border="0" src="../images/ProgramExpert.gif" width="53" height="16" alt="Expert"></td>
			</tr>
		</table>
		</td>
	</tr>
</table>
<p><a href="../index.html">
<img border="0" src="../images/ForNXT1X.png" width="737" height="21"></a></p>
<h3><span style="font-weight: 400">Building Instructions</span></h3>
<hr>
<p><b><font face="Arial" size="7">1-11</font></b></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="left"><font size="2">Start by building the <a href="../castor_bot/steps.html">Castor Bot</a>.&nbsp; 
Click the picture for building instructions.</font></p>
		<p align="left"><font size="2">The &quot;Game Controller&quot; built by the 
		remaining steps in this project can also be used to control other robots 
		that you design yourself.&nbsp; See the Challenges section at the end of 
		the building instructions for details.</font></p>
		</td>
	</tr>
</table>
<p><a href="../castor_bot/steps.html">
<img border="1" src="../castor_bot/DCP_3166.jpg" width="736" height="485"></a></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="center"><a href="../castor_bot/steps.html">
		<img border="0" id="img1" src="../images/buttons/instructions/buttonA.jpg" height="36" width="180" alt="Building Instructions" onmouseover="FP_swapImg(1,0,/*id*/'img1',/*url*/'../images/buttons/instructions/buttonB.jpg')" onmouseout="FP_swapImg(0,0,/*id*/'img1',/*url*/'../images/buttons/instructions/buttonA.jpg')" onmousedown="FP_swapImg(1,0,/*id*/'img1',/*url*/'../images/buttons/instructions/buttonC.jpg')" onmouseup="FP_swapImg(0,0,/*id*/'img1',/*url*/'../images/buttons/instructions/buttonB.jpg')" fp-style="fp-btn: Glow Capsule 3; fp-font: Arial; fp-orig: 0" fp-title="Building Instructions"></a><font size="2"><br>
&nbsp;</font></td>
	</tr>
</table>
<hr>
<p><b><font face="Arial" size="7">12</font></b></p>
<table border="0" width="740">
	<tr>
		<td><font size="2"><b>Note:</b> The construction of the controller is 
		not symmetrical.&nbsp; The left side is different from the right side.&nbsp; 
		Look at the pictures in each step carefully.</font></td>
	</tr>
</table>
<p><img border="1" src="DCP_3681.JPG" width="736" height="255"></p>
<p><img border="1" src="DCP_3680.JPG" width="736" height="308"></p>
<p><img border="1" src="DCP_3679.JPG" width="736" height="248"></p>
<p><img border="1" src="DCP_3678.JPG" width="736" height="496"></p>
<hr>
<p><b><font face="Arial" size="7">13</font></b></p>
<p><img border="1" src="DCP_3677.JPG" width="736" height="433"></p>
<p><img border="1" src="DCP_3676.JPG" width="736" height="520"></p>
<p><img border="1" src="DCP_3682.JPG" width="736" height="483"></p>
<hr>
<p><b><font face="Arial" size="7">14</font></b></p>
<p><img border="1" src="DCP_3675.JPG" width="736" height="284"></p>
<p><img border="1" src="DCP_3674.JPG" width="736" height="279"></p>
<p><img border="1" src="DCP_3673.JPG" width="736" height="469"></p>
<p><img border="1" src="DCP_3672.JPG" width="736" height="535"></p>
<hr>
<p><b><font face="Arial" size="7">15</font></b></p>
<p><img border="1" src="DCP_3671.JPG" width="736" height="229"></p>
<p><img border="1" src="DCP_3670.JPG" width="736" height="539"></p>
<p><img border="1" src="DCP_3669.JPG" width="736" height="505"></p>
<p><img border="1" src="DCP_3668.JPG" width="736" height="502"></p>
<hr>
<p><b><font face="Arial" size="7">16</font></b></p>
<p><img border="1" src="DCP_3667.JPG" width="736" height="237"></p>
<p><img border="1" src="DCP_3666.JPG" width="736" height="273"></p>
<p><img border="1" src="DCP_3665.JPG" width="736" height="574"></p>
<hr>
<p><b><font face="Arial" size="7"><a name="17"></a>17</font></b></p>
<p><img border="1" src="DCP_3664.JPG" width="736" height="392"></p>
<p><img border="1" src="DCP_3663.JPG" width="736" height="506"></p>
<p><img border="1" src="DCP_3683.JPG" width="736" height="494"></p>
<table border="0" width="740">
	<tr>
		<td><font size="2"><b>Note:</b> The white beams used in this step need 
		to be white in order for the light sensor to work correctly.&nbsp; If 
		you don't have any white beams of this size (because you are
		<a href="../help/parts/9797.html">using the Education version of the NXT 
		set</a>), then you can tape a small piece of white paper over the bottom 
		of these parts so that the light sensor will see white on the bottom of 
		these beams (see <a href="#how">How the Controller Works</a>).</font></td>
	</tr>
</table>
<p><img border="1" src="DCP_3662.JPG" width="736" height="557"></p>
<hr>
<p><b><font face="Arial" size="7">18</font></b></p>
<p><img border="1" src="DCP_3661.JPG" width="736" height="297"></p>
<p><img border="1" src="DCP_3660.JPG" width="736" height="562"></p>
<hr>
<p><b><font face="Arial" size="7">19</font></b></p>
<p><img border="1" src="DCP_3659.JPG" width="736" height="241"></p>
<table border="0" width="740">
	<tr>
		<td><font size="2">Turn the controller upside-down then insert the axle as shown below.</font></td>
	</tr>
</table>
<p><img border="1" src="DCP_3658.JPG" width="736" height="527"></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="left"><font size="2">For this part of the step:</font></p>
		<ol>
			<li>
			<p align="left"><font size="2">Hold the axle in with one finger to 
			keep it from falling out.</font></p></li>
			<li>
			<p align="left"><font size="2">Turn the controller back right-side 
			up</font></p></li>
			<li>
			<p align="left"><font size="2">Insert the thumb control plate over 
			the axle (angled beams pointing up), and secure it with the bushing 
			as shown below.</font></p></li>
			<li>
			<p align="left"><font size="2">Push the thumb plate back and forth 
			to make space to put the two rubber pieces on each side as shown 
			below.&nbsp;&nbsp; </font></p></li>
		</ol>
		<p align="left"><font size="2">The rubber pieces are used to push the 
		thumb control back to the center position when you let go.&nbsp; If you 
		think that this makes the thumb control too hard to push, you can remove 
		them and keep the control centered manually with your thumb when 
		necessary.</font></p></td>
	</tr>
</table>
<p><img border="1" src="DCP_3657.JPG" width="736" height="518"></p>
<hr>
<p><b><font face="Arial" size="7">20</font></b></p>
<p><img border="1" src="DCP_3655.JPG" width="736" height="254"></p>
<p><img border="1" src="DCP_3654.JPG" width="692" height="473"></p>
<p><img border="1" src="DCP_3653.JPG" width="736" height="507"></p>
<p>Turn the controller upside-down to install the touch sensor as shown below.</p>
<p><img border="1" src="DCP_3652.JPG" width="736" height="566"></p>
<hr>
<p><b><font face="Arial" size="7">21</font></b></p>
<p><img border="1" src="DCP_3651.JPG" width="736" height="283"></p>
<p><img border="1" src="DCP_3650.JPG" width="647" height="415"></p>
<p><img border="1" src="DCP_3649.JPG" width="736" height="546"></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="left"><font size="2">Make sure that the light sensor is 
		centered over the gray beam in the center of the thumb plate when the 
		thumb control is centered, as shown below.</font></p></td>
	</tr>
</table>
<p><img border="1" src="DCP_3684.JPG" width="736" height="520"></p>
<hr>
<p><b><font face="Arial" size="7">22</font></b></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="left"><font size="2">Use the two longest wires to connect the 
		light sensor to port <b>3</b> and the touch sensor to port <b>4</b> on 
		the NXT.</font></p></td>
	</tr>
</table>
<p><img border="1" src="DCP_3648.JPG" width="736" height="499"></p>
<hr>
<p><b><font face="Arial" size="7">23</font></b></p>
<table border="0" width="740">
	<tr>
		<td>
		<p align="left"><font size="2">This wire clip will help keep the two 
		wires organized and reduce tangling.</font></p></td>
	</tr>
</table>
<p><img border="1" src="DCP_3647.JPG" width="736" height="275"></p>
<p><img border="1" src="DCP_3646.JPG" width="736" height="459"></p>
<p><img border="1" src="DCP_3645.JPG" width="736" height="364"></p>
<hr>
<p><a name="Program"></a></p>
<table border="1" width="740" cellpadding="4">
	<tr>
		<td bgcolor="#C0C0C0"><font face="Arial Rounded MT Bold" size="5">Car 
		with Game Controller Programming</font><p style="margin-bottom: 6px">
		<font size="2">Use the program <a href="../programs/Game_Control.rbt">
		Game Control</a> for the Car with Game Controller.&nbsp; This program 
		could also be used along with the controller built in this project to 
		control other robots that you create.&nbsp; See the Challenges section 
		below for details.</font></p>
		</td>
	</tr>
</table>
<p style="margin-bottom: 6px"><a name="Using"></a></p>
<p style="margin-bottom: 6px"><font face="Arial Rounded MT Bold" size="5">Using 
the Game Controller</font></p>
<table border="0" width="740">
	<tr>
		<td><font size="2">The light sensor on the game controller must be 
		calibrated before it will work right.&nbsp; At the beginning of the 
		program you are asked to steer the left thumb plate all the way to the 
		left, then all the way to the right, then put it in the center, pressing 
		the touch sensor button after each step. This allows the light sensor to 
		see what the different colors look like so that it knows what range of 
		light to expect.&nbsp; These steps are pictured below.<br>
&nbsp;</font><table border="0" width="740" cellspacing="5" cellpadding="3">
			<tr>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3694.JPG" width="350" height="233"></td>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3687.JPG" width="350" height="234"></td>
			</tr>
			<tr>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3695.JPG" width="350" height="232"></td>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3688.JPG" width="350" height="233"></td>
			</tr>
			<tr>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3696.JPG" width="350" height="232"></td>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3689.JPG" width="350" height="233"></td>
			</tr>
			</table>
		<p><font size="2">Once you have completed the three calibration steps, 
		you are ready to drive.&nbsp; Driving works as follows:</font></p>
		<ul>
			<li>
			<p style="margin-bottom: 6px"><font size="2">When the touch sensor 
			button is pressed and held down, the robot will drive forward and 
			the left thumb plate will steer the robot left and right while it is 
			driving.&nbsp; The more you move the thumb plate, the sharper turn 
			the robot will make. </font></li>
			<li>
			<p style="margin-bottom: 6px"><font size="2">When the touch sensor 
			is <i>not</i> pressed, the thumb plate will pivot the robot left and 
			right in place.&nbsp; The more you move the thumb plate, the faster 
			the pivot movement will be.</font></li>
		</ul>
		<p style="margin-bottom: 6px"><font size="2">While driving, the NXT 
		display will draw a center line and a moving circle to indicate the 
		position of the thumb plate, and display the word &quot;Pressed&quot; whenever the 
		touch sensor button is held down.</font></td>
	</tr>
</table>
<p>&nbsp;</p>
<p style="margin-bottom: 6px"><font face="Arial Rounded MT Bold" size="5">
<a name="how"></a>How 
the Controller Works</font></p>
<table border="0" width="740">
	<tr>
		<td><font size="2">The left thumb plate of the game controller works by 
		making the light sensor see different shades of gray when the plate 
		moves back and forth.&nbsp; The program reads the light sensor value and 
		uses that number to determine how much to pivot or steer, and in which 
		direction.<br>
&nbsp;</font><table border="0" width="740" cellspacing="5" cellpadding="3">
			<tr>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3690.JPG" width="350" height="233"></td>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3692.JPG" width="350" height="232"></td>
			</tr>
			<tr>
				<td width="50%" align="left" valign="top">
				<p align="center"><font size="2">When the left thumb plate is 
				centered, <br>
				the sensor sees the gray beam.</font></td>
				<td width="50%" align="left" valign="top">
				<p align="center"><font size="2">When the thumb plate is all the 
				way to the left, <br>
				the sensor sees the white beams.</font></td>
			</tr>
			<tr>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3693.JPG" width="350" height="233"></td>
				<td width="50%" align="left" valign="top">
				<img border="1" src="DCP_3691.JPG" width="350" height="233"></td>
			</tr>
			<tr>
				<td width="50%" align="left" valign="top">
				<p align="center"><font size="2">When the thumb plate is all the 
				way to the right, <br>
				the sensor sees the black rubber pieces.</font></td>
				<td width="50%" align="left" valign="top">
				<p align="center"><font size="2">When the thumb plate is moved 
				slightly to either side, the sensor sees a mixture of two 
				colors, which will give intermediate values between the ends.</font></td>
			</tr>
			</table>
		</td>
	</tr>
</table>
<p style="margin-bottom: 6px">&nbsp;</p>
<table border="1" width="740" cellpadding="4">
	<tr>
		<td><font face="Arial Rounded MT Bold" size="5">Challenges</font><ul>
			<li>
			<p style="margin-bottom: 6px"><font size="2">The
			<a href="../programs/Game_Control.rbt">Game Control</a> program is 
			long and complex and contains a lot of Math blocks to calculate 
			various numbers that are needed to make the light sensor work as an 
			&quot;analog&quot; steering control.&nbsp; If you are getting good at NXT 
			programming, try looking at this program and reading the comments to 
			see if you can understand how any parts of it work.&nbsp; Don't 
			worry if you don't understand how the calculations with the Math 
			blocks work, just take a look at the other parts.</font></li>
			<li>
			<p style="margin-bottom: 6px"><font size="2">The
			<a href="../programs/Game_Control.rbt">Game Control</a> program 
			along with the controller built in this project can be used to 
			control other two-motor driving robots that you design and create 
			yourself.&nbsp; Try building another robot to control with it.&nbsp; 
			Here is what you will need to do:</font></li>
		</ul>
		<blockquote>
			<ol>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Your robot should 
				have two motors used to power it, with the motor connected to 
				port <b>B</b> on the left side of the robot and the motor 
				connected to port <b>C</b> on the right side.</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">As in building step 
				22 above, connect the wire that leads to the light sensor of the 
				game controller to port <b>3</b> on the NXT and the wire leading 
				to the touch sensor to port <b>4</b>. </font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Use the
				<a href="../programs/Game_Control.rbt">Game Control</a> program 
				and try it out.&nbsp; If your robot goes backwards instead of 
				forwards when the touch sensor is pressed, here are four 
				different ways to fix it (choose only one):</font><ol type="a">
					<li>
					<p style="margin-bottom: 6px"><font size="2">Turn the NXT 
					brick around on your robot so that the whole robot faces the 
					other way (this is probably the easiest fix), or</font></li>
					<li>
					<p style="margin-bottom: 6px"><font size="2">Rebuild your 
					robot so that the motors are upside-down from the way they 
					were, or</font></li>
					<li>
					<p style="margin-bottom: 6px"><font size="2">Rebuild your 
					robot so that the motors are turned around front-to-back 
					from the way they were, or</font></li>
					<li>
					<p style="margin-bottom: 6px"><font size="2">Modify the
					<a href="../programs/Game_Control.rbt">Game Control</a> 
					program to change the Move blocks to go the other direction.&nbsp; 
					As written, the Move blocks use &quot;backwards&quot; for the 
					direction, so you will need to change them to &quot;forwards&quot;.&nbsp; 
					Find the six green Move blocks in the program. One of them 
					is just a Stop, so you will need to change the direction on 
					the other five blocks.</font></li>
				</ol>
				</li>
			</ol>
		</blockquote>
		<ul>
			<li>
			<p style="margin-bottom: 6px"><font size="2">The controller and the
			<a href="../programs/Game_Control.rbt">Game Control</a> program 
			could also be used to control other kinds of robots (other than 
			two-motor drive robots) or machines that you design yourself.&nbsp; 
			If you understand enough of the program to modify it, you could 
			change it to control something else.&nbsp; The key things to find in 
			the program are the six green Move blocks.&nbsp; These six blocks 
			correspond to the following six cases from the controller:</font><ol>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering right with 
				the touch sensor pressed</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering right 
				without the touch sensor pressed</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering left with 
				the touch sensor pressed</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering left 
				without the touch sensor pressed</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering centered 
				with the touch sensor pressed</font></li>
				<li>
				<p style="margin-bottom: 6px"><font size="2">Steering centered 
				without the touch sensor pressed</font></li>
			</ol>
			<p style="margin-bottom: 6px"><font size="2">These six cases could 
			be modified to do something else.&nbsp; In each case, you know 
			whether the touch sensor button is being pressed or not, and you 
			have a value in the variable named &quot;Control&quot; which indicates how far 
			the left thumb plate is being pushed to the side.</font></li>
		</ul>
		</td>
	</tr>
</table>
<p align="center">&nbsp;</p>
<table border="0" width="742" height="26" cellpadding="4">
	<tr>
		<td bgcolor="#a3b1c3">
		<p align="left" style="margin-bottom: 0"><font size="2">
		<a href="../index.html"><font color="#000000">Home</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="../projects.html"><font color="#000000">Projects</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="../help.html"><font color="#000000">Help</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		<a href="contact.html"><font color="#000000">Contacts</font></a>&nbsp;&nbsp;&nbsp;&nbsp;
		</font><a href="../../ReadMe.html"><font size="2" color="#000000">Read Me</font></a></td>
	</tr>
</table>
<table border="0" width="740">
	<tr>
		<td>
<p align="center">&nbsp;</p>
<p align="center"><font face="Verdana" size="1">Copyright </font>
<font size="1" face="Times New Roman">� </font><font face="Verdana" size="1">
2007-2009 by Dave Parker.&nbsp; All rights reserved.&nbsp; <br>
All project designs, images, and programs are protected by copyright.&nbsp; Please see 
the <a href="../copyright.html">usage policy</a>. </font></p>

		</td>
	</tr>
</table>

</body>

</html>
